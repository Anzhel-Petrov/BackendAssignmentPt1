@addTagHelper "*, Microsoft.AspNetCore.Mvc.TagHelpers"
@using  BackendAssignmentPt1.Models
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <link href="/StyleSheet.css" rel="stylesheet" />
    <title>Movies Catalogue</title>
</head>
<body>
    <div class="container">
        <h2>The Movies</h2>
        <a asp-controller="Home" asp-action="Index">Home</a>
        <div class="flex-container">
            @foreach (Movie movie in ViewBag.Movies)
            {
                <div class="flex-item">
                    <strong>Title: </strong> @movie.Title<br />
                    <strong>Director: </strong>@movie.Director<br>
                    <strong>Price: </strong>@String.Format("{0:0.00}", movie.Price) <br /><br />
                    <img margin="100" src="/Images/@movie.ImageFileName" alt="@movie.Title" />
                </div>
            }

            @*
        If we store the entire Product list in a ViewBag property we need to cast the product iteration to a movie object. Why? Because Movie is a Product - it inherits from it.
        But Product is not necessarily a Movie so the Product cannot access the properties of a Movie - the product iteration below cannot be used to access the properties of a movie object.
            *@
            @*@foreach (Product product in ViewBag.Products)
        {
            if (product is Movie)
            {
                Movie movie = (Movie)product;
                <div class="container">
                    <strong>Title: </strong> @movie.Title<br />
                    <strong>Director: </strong>@movie.Director<br>
                    <strong>Price: </strong>@String.Format("{0:0.00}", movie.Price) <br /><br />
                    <img margin="100" src="/Images/@movie.ImageFileName" alt="@movie.Title" />
                </div>
            }
        }*@
        </div>
    </div>
</body>
</html>

